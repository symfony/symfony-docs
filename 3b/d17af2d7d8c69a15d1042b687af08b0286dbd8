---------------------------------------------------------------------------

by xabbuh at 2014-11-24T22:25:05Z

This backports some of the improvements done by @WouterJ for the `2.6` branch.
